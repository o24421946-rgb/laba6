# Игра про шарики

Интерактивная игра про цветные шарики с физикой движения и смешиванием цветов.

## Описание игры

Это увлекательная игра, в которой вы управляете разноцветными шариками на игровом поле. Шарики двигаются по экрану, сталкиваются друг с другом и при касании смешивают свои цвета, создавая новые оттенки. Игра имеет простой, но затягивающий геймплей.

### Основные возможности:

- **Движение шариков**: Шарики свободно перемещаются по экрану, отскакивая от границ
- **Всасывание шариков**: Удерживайте левую кнопку мыши, чтобы всасывать ближайшие шарики в инвентарь
- **Выпускание шариков**: Отпустите кнопку мыши, чтобы выплюнуть шарик из инвентаря обратно на экран
- **Смешивание цветов**: При столкновении шарики математически усредняют свои RGB-цвета, создавая новые оттенки
- **Зона удаления**: Правый верхний угол экрана - зона удаления, куда можно поместить шарики для их удаления

## Запуск игры локально

### Требования

- Python 3.8 или выше
- pip (менеджер пакетов Python)

### Установка зависимостей

1. Установите необходимые зависимости:

```bash
pip install -r requirements.txt
```

Или напрямую установите pygame:

```bash
pip install pygame>=2.5.0
```

### Запуск игры

После установки зависимостей запустите игру одной командой:

```bash
python gui.py
```

Игра откроется в новом графическом окне.

## Управление

- **Левая кнопка мыши (зажать)**: Всасывать ближайшие шарики в инвентарь
- **Левая кнопка мыши (отпустить)**: Выплюнуть шарик из инвентаря на позицию курсора
- **Зона удаления**: Переместите шарики в правый верхний угол экрана для их удаления

## Запуск через Docker

Игра может быть запущена в Docker-контейнере с графическим интерфейсом через X11.

### Предварительные требования

Для запуска графического окна из Docker-контейнера на вашей системе должен быть установлен X11:

**Linux:**
- X11 уже включен в большинство дистрибутивов

**macOS:**
```bash
brew install --cask xquartz
```

**Windows:**
- Используйте WSL2 с установленным X11 сервером (например, VcXsrv или Xming)
- Или используйте WSLg (Windows 11)

### Сборка Docker-образа

```bash
docker build -t balls-game .
```

### Запуск контейнера

**Linux/macOS:**
```bash
docker run -it --rm \
  -e DISPLAY=$DISPLAY \
  -v /tmp/.X11-unix:/tmp/.X11-unix \
  --device /dev/dri \
  balls-game
```

**Windows (WSL2):**
```bash
docker run -it --rm \
  -e DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2}'):0.0 \
  -e LIBGL_ALWAYS_INDIRECT=1 \
  balls-game
```

**Windows (WSLg):**
```bash
docker run -it --rm balls-game
```

### Настройка X11 для Docker (только первый раз на Linux)

Если вы получаете ошибки доступа к X11, выполните:

```bash
xhost +local:docker
```

Это позволит Docker-контейнерам использовать ваш X11 сервер.

## Структура проекта

- `gui.py` - точка входа, графический интерфейс игры (pygame)
- `logic.py` - игровая логика (классы Ball и GameLogic)
- `requirements.txt` - зависимости Python
- `Dockerfile` - конфигурация Docker-контейнера
- `README.md` - этот файл

## Технические детали

- **Язык**: Python 3
- **Графическая библиотека**: pygame
- **Архитектура**: Разделение логики (logic.py) и интерфейса (gui.py)
- **Смешивание цветов**: Математическое усреднение RGB-компонентов
- **Физика**: Простая кинематика с отражением от границ экрана

## Лицензия

Этот проект создан в учебных целях.

